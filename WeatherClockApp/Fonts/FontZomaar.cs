using System.Collections;

namespace WeatherClockApp.Fonts
{
    /// <summary>
    /// Implementation of IFont for the original variable-width Font1.
    /// This wraps the original Hashtable character definitions in an IFont compatible class.
    /// </summary>
    public class FontZomaar : IFont
    {
        // Cache the space character data to avoid repeated lookups/allocations for fallbacks
        private static readonly byte[] _spaceBytes = new byte[] { 0x00 };

        private static readonly Hashtable _characters = new Hashtable()
        {
            { ' ', _spaceBytes },
            { '!', new byte[] { 0x5F } },
            { '"', new byte[] { 0x03, 0x03 } },
            { '#', new byte[] { 0x14, 0x3E, 0x14, 0x3E, 0x14 } },
            { '$', new byte[] { 0x24, 0x6A, 0x2B, 0x12 } },
            { '%', new byte[] { 0x63, 0x13, 0x08, 0x64, 0x63 } },
            { '&', new byte[] { 0x36, 0x49, 0x56, 0x20, 0x50 } },
            { '\'', new byte[] { 0x03 } },
            { '(', new byte[] { 0x1C, 0x22, 0x41 } },
            { ')', new byte[] { 0x41, 0x22, 0x1C } },
            { '*', new byte[] { 0x28, 0x18, 0x0E, 0x18, 0x28 } },
            { '+', new byte[] { 0x08, 0x08, 0x3E, 0x08, 0x08 } },
            //{ ',', new byte[] { 0xB0, 0x70 } },
            { ',', new byte[] { 0x80, 0x40 } },
            { '-', new byte[] { 0x08, 0x08, 0x08, 0x08, 0x08 } },
            //{ '.', new byte[] { 0x60, 0x60 } },
            { '.', new byte[] { 0x40 } },
            { '/', new byte[] { 0x60, 0x18, 0x06, 0x01 } },
            { '0', new byte[] { 0x3E, 0x41, 0x41, 0x3E } },
            { '1', new byte[] { 0x42, 0x7F, 0x40 } },
            { '2', new byte[] { 0x62, 0x51, 0x49, 0x46 } },
            { '3', new byte[] { 0x22, 0x41, 0x49, 0x36 } },
            { '4', new byte[] { 0x18, 0x14, 0x12, 0x7F } },
            { '5', new byte[] { 0x27, 0x45, 0x45, 0x39 } },
            { '6', new byte[] { 0x3E, 0x49, 0x49, 0x30 } },
            { '7', new byte[] { 0x61, 0x11, 0x09, 0x07 } },
            { '8', new byte[] { 0x36, 0x49, 0x49, 0x36 } },
            { '9', new byte[] { 0x06, 0x49, 0x49, 0x3E } },
            { ':', new byte[] { 0x14 } },
            { ';', new byte[] { 0x20, 0x14 } },
            { '<', new byte[] { 0x08, 0x14, 0x22 } },
            { '=', new byte[] { 0x14, 0x14, 0x14 } },
            { '>', new byte[] { 0x22, 0x14, 0x08 } },
            { '?', new byte[] { 0x02, 0x59, 0x09, 0x06 } },
            { '@', new byte[] { 0x3E, 0x49, 0x55, 0x5D, 0x0E } },
            { 'A', new byte[] { 0x7E, 0x11, 0x11, 0x7E } },
            { 'B', new byte[] { 0x7F, 0x49, 0x49, 0x36 } },
            { 'C', new byte[] { 0x3E, 0x41, 0x41, 0x22 } },
            { 'D', new byte[] { 0x7F, 0x41, 0x41, 0x3E } },
            { 'E', new byte[] { 0x7F, 0x49, 0x49, 0x41 } },
            { 'F', new byte[] { 0x7F, 0x09, 0x09, 0x01 } },
            { 'G', new byte[] { 0x3E, 0x41, 0x49, 0x7A } },
            { 'H', new byte[] { 0x7F, 0x08, 0x08, 0x7F } },
            { 'I', new byte[] { 0x41, 0x7F, 0x41 } },
            { 'J', new byte[] { 0x30, 0x40, 0x41, 0x3F } },
            { 'K', new byte[] { 0x7F, 0x08, 0x14, 0x63 } },
            { 'L', new byte[] { 0x7F, 0x40, 0x40, 0x40 } },
            { 'M', new byte[] { 0x7F, 0x02, 0x0C, 0x02, 0x7F } },
            { 'N', new byte[] { 0x7F, 0x04, 0x08, 0x10, 0x7F } },
            { 'O', new byte[] { 0x3E, 0x41, 0x41, 0x3E } },
            { 'P', new byte[] { 0x7F, 0x09, 0x09, 0x06 } },
            { 'Q', new byte[] { 0x3E, 0x41, 0x41, 0xBE } },
            { 'R', new byte[] { 0x7F, 0x09, 0x09, 0x76 } },
            { 'S', new byte[] { 0x46, 0x49, 0x49, 0x32 } },
            { 'T', new byte[] { 0x01, 0x01, 0x7F, 0x01, 0x01 } },
            { 'U', new byte[] { 0x3F, 0x40, 0x40, 0x3F } },
            { 'V', new byte[] { 0x0F, 0x30, 0x40, 0x30, 0x0F } },
            { 'W', new byte[] { 0x3F, 0x40, 0x38, 0x40, 0x3F } },
            { 'X', new byte[] { 0x63, 0x14, 0x08, 0x14, 0x63 } },
            { 'Y', new byte[] { 0x07, 0x08, 0x70, 0x08, 0x07 } },
            { 'Z', new byte[] { 0x61, 0x51, 0x49, 0x47 } },
            { '[', new byte[] { 0x7F, 0x41 } },
            { '\\', new byte[] { 0x01, 0x06, 0x18, 0x60 } },
            { ']', new byte[] { 0x41, 0x7F } },
            { '_', new byte[] { 0x40, 0x40, 0x40, 0x40 } },
            { '`', new byte[] { 0x01, 0x02 } },
            { 'a', new byte[] { 0x20, 0x54, 0x54, 0x78 } },
            { 'b', new byte[] { 0x7F, 0x44, 0x44, 0x38 } },
            { 'c', new byte[] { 0x38, 0x44, 0x44, 0x28 } },
            { 'd', new byte[] { 0x38, 0x44, 0x44, 0x7F } },
            { 'e', new byte[] { 0x38, 0x54, 0x54, 0x18 } },
            { 'f', new byte[] { 0x04, 0x7E, 0x05 } },
            { 'g', new byte[] { 0x98, 0xA4, 0xA4, 0x78 } },
            { 'h', new byte[] { 0x7F, 0x04, 0x04, 0x78 } },
            { 'i', new byte[] { 0x44, 0x7D, 0x40 } },
            { 'j', new byte[] { 0x40, 0x80, 0x84, 0x7D } },
            { 'k', new byte[] { 0x7F, 0x10, 0x28, 0x44 } },
            { 'l', new byte[] { 0x41, 0x7F, 0x40 } },
            { 'm', new byte[] { 0x7C, 0x04, 0x7C, 0x04, 0x78 } },
            { 'n', new byte[] { 0x7C, 0x04, 0x04, 0x78 } },
            { 'o', new byte[] { 0x38, 0x44, 0x44, 0x38 } },
            { 'p', new byte[] { 0xFC, 0x24, 0x24, 0x18 } },
            { 'q', new byte[] { 0x18, 0x24, 0x24, 0xFC } },
            { 'r', new byte[] { 0x7C, 0x08, 0x04, 0x04 } },
            { 's', new byte[] { 0x48, 0x54, 0x54, 0x24 } },
            { 't', new byte[] { 0x04, 0x3F, 0x44 } },
            { 'u', new byte[] { 0x3C, 0x40, 0x40, 0x7C } },
            { 'v', new byte[] { 0x1C, 0x20, 0x40, 0x20, 0x1C } },
            { 'w', new byte[] { 0x3C, 0x40, 0x3C, 0x40, 0x3C } },
            { 'x', new byte[] { 0x44, 0x28, 0x10, 0x28, 0x44 } },
            { 'y', new byte[] { 0x9C, 0xA0, 0xA0, 0x7C } },
            { 'z', new byte[] { 0x64, 0x54, 0x4C } },
            { '{', new byte[] { 0x08, 0x36, 0x41 } },
            { '|', new byte[] { 0x7F } },
            { '}', new byte[] { 0x41, 0x36, 0x08 } },
            { '~', new byte[] { 0x08, 0x04, 0x08, 0x04 } },
            { '^', new byte[] { 0x02, 0x01, 0x02 } },
            { '°', new byte[] { 0x02, 0x05, 0x02 } },
            { ' ', new byte[] { 0x00 } }, //non-breaking space alt+0160
        };

        public ListByte this[char chr]
        {
            get
            {
                if (_characters.Contains(chr))
                {
                    return new ListByte((byte[])_characters[chr]);
                }

                // Return space if character not found to prevent crashes
                return new ListByte(_spaceBytes);
            }
        }
    }
}